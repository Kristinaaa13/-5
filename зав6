# 6) Максимальна сума шляху в дереві
def maxPathSum(root: TreeNode) -> int:
    best = float('-inf')
    def gain(node: Optional[TreeNode]) -> int:
        nonlocal best
        if not node: return 0
        left = max(0, gain(node.left))
        right = max(0, gain(node.right))
        best = max(best, node.val + left + right)   # шлях, що проходить через вузол
        return node.val + max(left, right)          # найкрачий "продовжуваний" вгору
    gain(root)
    return best
# O(n)/O(h).
